{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./back/lib/config.js","webpack:///./src/command.js","webpack:///external \"commander\"","webpack:///./back/core.js","webpack:///external \"inquirer\"","webpack:///./back/lib/crawler.js","webpack:///external \"crawler\"","webpack:///./back/lib/spinner.js","webpack:///external \"ora\"","webpack:///./back/lib/detect.js","webpack:///./back/lib/helper.js","webpack:///./back/lib/painter.js","webpack:///external \"chalk\"","webpack:///external \"json-file\"","webpack:///external \"fs\"","webpack:///./back/lib/typo.js","webpack:///external \"typo-js\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","json","file","read","fs","readTheme","theme","data","changeTheme","set","writeSync","themeList","readdirSync","program","search","opt","fuzzy","version","description","command","alias","action","word","cmd","assign","on","console","error","args","join","process","exit","parse","argv","require","inquirer","query","painting","suggest","suggestions","length","question","type","message","choices","prompt","then","answer","Crawler","spinner","returnProperCode","isEmpty","maxConnections","opts","cb","target","queue","uri","jQuery","options","normalizeWhitespace","xmlMode","callback","res","done","log","fail","$","symbols","each","val","this","text","push","translations","content","prop","find","changes","warn","success","[object Object]","symbol","translation","ora","load","start","stop","succeed","info","test","CHIESE_DETECT_REG","detectIfChinese","encodeURI","arr","chalk","hex","reduce","str","el","combineInLine","paintSymbol","map","propTitle","paintTranslation","change","paintChange","warning","keyword","dictionary","input","check"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","const json = require('json-file')\nconst file = json.read('../config.json')\nconst fs = require('fs')\n\nconst themeFolder = '../assets/color/'\n\nconst readTheme = () => {\n  const { theme } = file.data\n  return json.read(`../assets/color/${theme}`)\n}\n\nconst changeTheme = (name) => {\n  file.set('theme', name)\n  file.writeSync()\n}\n\nconst themeList = () => {\n  return fs.readdirSync(themeFolder)\n}\n\nmodule.exports = {\n  readTheme,\n  changeTheme,\n  themeList,\n}","const program = require('commander')\nconst { search, theme } = require('../back/core')\n\nconst opt = {\n  fuzzy: true,\n}\n\nprogram\n  .version('0.0.1')\n  .description('test description')\n\nprogram\n  .command('query <word>')\n  .alias('q')\n  .description('Query <word>')\n  // .option('-f, --fuzzy', 'With fuzzy matching')\n  .action((word, cmd) => {\n    search(word, Object.assign(opt, cmd))\n  })\n\nprogram\n  .command('theme')\n  .alias('t')\n  .description('Choose another theme!')\n  .action(() => theme())\n\nprogram\n  .on('command:*', () => {\n    console.error('Invalid command: %s\\nSee --help for a list of available commands.', program.args.join(' '))\n    process.exit(1)\n  })\n\nprogram.parse(process.argv)","module.exports = require(\"commander\");","const inquirer = require('inquirer')\nconst { query } = require('./lib/crawler')\nconst { painting } = require('./lib/painter')\nconst { suggest } = require('./lib/typo')\nconst { themeList, changeTheme } = require('./lib/config')\n\nconst search = (word, opt) => {\n  if (opt.fuzzy) {\n    let suggestions = suggest(word)\n    if (suggestions.length >= 1) {\n      const question = {\n        type: 'list',\n        name: 'word',\n        message: 'Choose one word you may want to query.',\n        choices: suggestions,\n      }\n      inquirer\n        .prompt(question)\n        .then(answer => {\n          query(answer.word, opt, painting)\n        })\n      return;\n    }\n  }\n  query(word, opt, painting)\n}\n\nconst theme = () => {\n  const question = {\n    type: 'list',\n    name: 'theme',\n    message: 'Choose one theme',\n    choices: themeList()\n  }\n\n  inquirer\n    .prompt(question)\n    .then(answer => changeTheme(answer.theme))\n}\n\nmodule.exports = {\n  search,\n  theme,\n}\n","module.exports = require(\"inquirer\");","const Crawler = require('crawler')\nconst { spinner } = require('./spinner')\nconst { returnProperCode } = require('./detect')\nconst { isEmpty } = require('./helper')\n\nconst c = new Crawler({\n  maxConnections: 1,\n})\n\nclass Word {\n  constructor(word, symbol, translation, changes) {\n    this.word = word\n    this.symbol = symbol\n    this.translation = translation\n    this.changes = changes\n  }\n}\n\nconst query = (word, opts, cb) => {\n  spinner.create()\n  const target = returnProperCode(word)\n\n  c.queue([{\n    uri: `http://www.iciba.com/${target}`,\n    jQuery: {\n      name: 'cheerio',\n      options: {\n        normalizeWhitespace: true,\n        xmlMode: true,\n      }\n    },\n    callback: function(error, res, done) {\n      if (error) {\n        console.log(error)\n        spinner.fail(`Catch error: : ${error}`)\n      } else {\n        const $ = res.$\n\n        const symbols = []\n        $('.base-speak span span').each(function() {\n          const val = $(this).text()\n          symbols.push(val)\n        })\n  \n        const translations = []\n        $('.base-list.switch_part li').each(function() {\n          let content = ''\n          let prop = $(this).find('.prop').text()\n          $(this).find('p span').each(function() {\n            content += $(this).text()\n          })\n          translations.push([prop, content])\n        })\n  \n        const changes = []\n        $('.change.clearfix span').each(function() {\n          changes.push([$(this).text()])\n        })\n\n        if (isEmpty(symbols) && isEmpty(translations) && isEmpty(changes)) {\n          spinner.warn(`Fail to find this word: ${word}`)\n        } else {\n          spinner.success('Results are below:')\n          cb(new Word(word, symbols, translations, changes))\n        }\n      }\n      done()\n    }\n  }])\n}\n\nmodule.exports = {\n  query,\n}","module.exports = require(\"crawler\");","const ora = require('ora')\n\nclass Spinner {\n  create() {\n    if (!this.spinner) {\n      this.spinner = ora('Searching....')\n    }\n    return this.load()\n  }\n\n  load() {\n    this.spinner.start()\n  }\n\n  stop() {\n    this.spinner.stop()\n  }\n\n  success(text) {\n    this.spinner.succeed(text)\n  }\n\n  warn(text) {\n    this.spinner.warn(text)\n  }\n\n  info(text) {\n    this.spinner.info(text)\n  }\n\n  fail(test) {\n    this.spinner.fail(text)\n  }\n}\n\nconst spinner = new Spinner()\n\nmodule.exports = {\n  spinner\n}","module.exports = require(\"ora\");","const CHIESE_DETECT_REG = /^[\\u4E00-\\u9FFF\\u3400-\\u4DFF]+$/;\n\nconst detectIfChinese = (word) => {\n  return CHIESE_DETECT_REG.test(word)\n}\n\nconst returnProperCode = (word) => {\n  return encodeURI(word)\n}\n\nmodule.exports = {\n  detectIfChinese,\n  returnProperCode,\n}","const isEmpty = (arr) => {\n  return arr !== null && arr.length < 1\n}\n\nmodule.exports = {\n  isEmpty,\n}","const chalk = require('chalk')\nconst log = console.log\nconst { readTheme } = require('./config')\nconst theme = readTheme().data\n\nconst combineInLine = (arr) => {\n  if (arr.length < 1) return ''\n  if (arr.length === 2) return arr[0]\n  return arr.reduce((str, el) => str += '  ' + el, '')\n}\n\nconst paintSymbol = (symbol) => {\n  log(chalk.hex(theme.symbol)(combineInLine(symbol)))\n}\n\n/**\n * @param {*} translations \n * e.g. ['n', 'cool,good']\n */\nconst paintTranslation = (translation) => {\n  log(`${chalk.hex(theme.propTitle)(translation[0])}: ${chalk.hex(theme.prop)(translation[1])}`)\n}\n\nconst paintChange = (change) => {\n  log(`${chalk.hex(theme.changes)(change)}`)\n}\n\nconst warning = (word) => log(chalk.keyword(word))\n\nconst painting = (word, opt) => {\n  paintSymbol(word.symbol)\n  word.translation.map(el => paintTranslation(el))\n  word.changes.map(el => paintChange(el))\n}\n\nmodule.exports = {\n  painting,\n  warning,\n}","module.exports = require(\"chalk\");","module.exports = require(\"json-file\");","module.exports = require(\"fs\");","const Typo = require('typo-js')\nconst dictionary = new Typo('en_US')\n\nconst suggest = (input) => {\n  return dictionary.suggest(input)\n}\n\nconst check = (input) => {\n  return dictionary.check(input)\n}\n\nmodule.exports = {\n  suggest,\n  check,\n}\n","module.exports = require(\"typo-js\");"],"sourceRoot":""}